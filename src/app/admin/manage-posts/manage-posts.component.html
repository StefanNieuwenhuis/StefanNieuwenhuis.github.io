<div class="row">
  <div class="col-12 ">
    <h1>Create new post</h1>
  </div>
</div>

<!-- create post -->
<div class="row" *ngIf="!showPreview">
  <div class="col-12">
    <div class="form-group">
      <label for="post-title">Post title*</label>
      <input id="post-title" type="text" class="form-control" [(ngModel)]="post.title" required />
    </div>
    <div class="form-row">
      <div class="col-7">
        <div class="form-group">
          <label for="post-image-src">Header image url</label>
          <input id="post-image-src" type="text" class="form-control" [(ngModel)]="post.image.src"/>
        </div>
      </div>
      <div class="col-5">
        <div class="form-group">
          <label for="post-image-alt">Header image alt text</label>
          <input id="post-image-alt" type="text" class="form-control" [(ngModel)]="post.image.alt"/>
        </div>
      </div>
    </div>
    <div class="form-group">
      <textarea class="form-control post-editor" wrap="off" [(ngModel)]="post.body"
                name="body"></textarea>
    </div>
  </div>
</div>

<!-- preview post -->
<div class="row" *ngIf="showPreview === true">
  <div class="col-12">
    <img *ngIf="post.image" class="img-fluid post-image" src="{{post.image.src}}" alt="{{post.image.alt}}"/>
    <h2>{{post.title}}</h2>
    <div class="font-weight-light">{{post.publishDate | date}} by {{post.author.name}}</div>
    <p innerHtml="{{convertToHtml(post.body)}}"></p>
  </div>
</div>

<!-- action buttons -->
<div class="row">
  <div class="col-12">
    <button class="btn btn-secondary" (click)="togglePreview()">
      <ng-container [ngSwitch]="showPreview">
        <ng-container *ngSwitchCase="true">show editor</ng-container>
        <ng-container *ngSwitchCase="false">show preview</ng-container>
      </ng-container>
    </button>
    <button class="btn btn-primary">Save</button>
  </div>
</div>
